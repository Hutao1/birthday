<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body {text-align:center;}
			#div {margin-top:200px;}
			.s {font-size:18px;font-weight:bolder;}
			*{margin:0;padding:0}
			html,body{height:100%}
			#box{width: 100%;
				height: 100%;
				background-color:black;
				position: absolute;
				z-index: -1;
				overflow: hidden;
				top: 0;
				left: 0;
			}
			span{
				border-radius: 100%;
				background-color: white;			
				position: absolute;				
				}
		</style>
	</head>

<body>
	<div id="box"></div>
	<div id="div">
		<img src="img/0.png" />
		<img src="img/8.png" />
		时
		<img src="img/1.png" />
		<img src="img/5.png" />
		分
		<img src="img/0.png" />
		<img src="img/9.png" />
		秒
	</div>
	<div id="screen" class="s"></div>
	</body>
</html>
<script>
	document.body.style.color = "#f00"
	var starcount=1000;
	var j=0;
	for(var i=0;i<starcount;i++){
		document.querySelector('div').appendChild(document.createElement('span'));			//生成span
	}	
	function start(){		
		var star=document.getElementById("box").children;							//style 写入
		[].forEach.call(star, function(item,index) {			//[].forEach.call=Array.prototype.forEach.call
	    	item.style.left=parseInt(Math.random()*100)+'%';
			item.style.top=parseInt(Math.random()*100)+'%';
			item.style.width=Math.floor(Math.random()*4+1)+"px";
			item.style.height=item.style.width;		
//			item.style.background="snow.gif"
			setInterval(function(){
					j++;
					if(j>2){
						j=0;
					}
					item.style.boxShadow='0px 0px 3px'+" "+ j+'px white';
				},300)
			//item.style.boxShadow='0px 0px 3px'+" "+ j+'px white';		
		})
	}	
	start();
	 var list = document.getElementsByTagName("img");
	 fun();
	 setInterval(fun,1000);
	 function imgs(num,f,s){
	 	if(num < 10){
	 	 	list[f].src = "img/0.png";
	 	 	list[s].src = "img/"+num+".png";
	 	 }else{
	 	 	list[f].src = "img/"+parseInt(num/10)+".png";
	 	 	list[s].src = "img/"+parseInt(num%10)+".png";
	 	 }
	 }
	 function fun(){
	 	var time = new Date();
	 	 var h = time.getHours();
	 	 var mi = time.getMinutes();
	 	 var se = time.getSeconds();
	 	 imgs(h,0,1);
	 	 imgs(mi,2,3);
	 	 imgs(se,4,5);
	 	 
	 }
	 //定时器的使用
	var di = document.getElementById("screen");
	dingshi();
	var timer = setInterval(dingshi,1000);
	function dingshi(){
		var stime = new Date();
		var etime = new Date("2017/10/05 00:00:00");
		var time = diff(stime,etime);
		var hour = parseInt(time/3600);
		time = time - 3600*hour;
		var mi = parseInt(time/60);
		time = time - 60*mi;
		var se = parseInt(time);
		hour = geshi(hour);
		mi = geshi(mi);
		se = geshi(se);
		di.innerHTML = "距离斜斜生日还有 "+hour +"小时"+mi+"分"+se+"秒";
		if(parseInt(hour) <= 0 && parseInt(mi) <=0 & parseInt(se)<= 0){
			clearInterval(timer);
			di.innerHTML = "生日快乐~";
		}
	}
	function diff(start,end){
		return (end.getTime()-start.getTime())/1000;
	}
	function geshi(time){
	 	if(time < 10){
	 		time ="0" + time;
	 	}
	 	return time;
	 }

</script>
